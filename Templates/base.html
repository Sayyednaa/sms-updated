<!-- in books/templates/books/base.html -->
{% if user.is_authenticated %}
{% load static %}

<!doctype html>

<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{% block title %}- Study Portal{% endblock title %}</title>
    <link rel="icon" type="image/x-icon" href="https://png.pngtree.com/png-vector/20220520/ourmid/pngtree-digital-study-icon-color-flat-png-image_4687517.png">
    {% comment %} <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/css/bootstrap.min.css" rel="stylesheet"> {% endcomment %}
    <script src="https://www.gstatic.com/charts/loader.js"></script>
    <link rel="stylesheet" href="{% static 'css/style.css' %}">
    <style>
       
    </style>


    <div class="sidebar">
        <div class="user">
        <img src="https://avatars.githubusercontent.com/u/70070584?v=4" alt="User Image" class="profile_img">
        <div class="user-name"><a href="/profile">{{ request.user.first_name}} {{ request.user.last_name}}</a></div></div>
        <a href="/">Home</a>
        <a href="/time">Time</a>
        <a href="/test">Test</a>
        <a href="/todo/syallbuss">Syllabus</a>
        <a href="/notes">Notes</a>
        <a href="/todo">Todo</a>
        <a href="https://www.pw.live/study/" target="_blank">Batch</a>
        {% if request.user.is_superuser %}
        <a href="/admin">Admin</a>{% endif %}
        <a href="/logout">Logout</a>
    </div>
  </head>
                <script>
                    function updateCountdown() {
                        const now = new Date();
                        const startOfYear = new Date(now.getFullYear(), 0, 0);
                        const diff = now - startOfYear;
                        const oneDay = 1000 * 60 * 60 * 24;
                        const daysGone = Math.floor(diff / oneDay);
                        const daysRemaining = Math.floor(365 - daysGone);
                        const progressPercentage = (daysGone / 365) * 100;

                        document.getElementById('daysGone').innerText = daysGone;
                        document.getElementById('daysRemaining').innerText = daysRemaining;
                        document.getElementById('progressBar').style.width = progressPercentage + '%';
                    }

                    // Update the countdown every second
                    setInterval(updateCountdown, 1000);

                    // Initialize the countdown on page load
                    updateCountdown();
                </script>

            </div>
        </li>

         </ul>

    </div>
  </div>
</nav>

<body>

<main>
 
  {% block content %}{% endblock %}
    </main>
  </body>
  </html>

  {% endif %}
